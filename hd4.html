<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>魅族直播</title>
    <meta name="keywords" content="魅族直播">
    <meta name="description" content="魅族直播">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel='stylesheet prefetch' href='./video-js.css'>
    <link rel='stylesheet prefetch' href='./assets/js/videojs-resolution-switcher/videojs-resolution-switcher.css'>
</head>

<body>
    <div style="margin:0 auto;width:0px;height:0px;overflow:hidden;">
        <img src="http://pubstatic.b0.upaiyun.com/ego-live.jpg" width="700">
    </div>
    <video id='video' class="video-js vjs-default-skin" width="640" height="320"></video>

    <script src='./videojs-ie8.min.js'></script>
    <script src='./video-min.js'></script>
    <script src="./videojs-contrib-hls.min.js"></script>
    <script src="./assets/js/videojs-resolution-switcher/videojs-resolution-switcher.js"></script>

    <script>
        videojs.options.flash.swf = "./video-js.swf"
        var sources = [{
            src: 'rtmp=rtmp://player.live.meizu.cn/launch/1031-720w',
            type: 'rtmp/flv',
            label: '1080w'
        }, {
            src: 'rtmp=rtmp://player.live.meizu.cn/launch/1031-720w',
            type: 'rtmp/flv',
            label: '720w'
        }, {
            src: 'rtmp=rtmp://player.live.meizu.cn/launch/1031-720w',
            type: 'rtmp/flv',
            label: '360w'
        }];
        videojs("video", {
            techOrder: ["flash", "html5"],
            autoplay: true,
            timeDivider: false,
            controlBar: {
                progressControl: false
            },
            //label: '360w',
            plugins: {
                videoJsResolutionSwitcher: {
                    default: 'high',
                    dynamicLabel: true
                }
            }
        }, function() {
            console.log(this);
            var player = this;
            // Add dynamically sources via updateSrc method
            player.updateSrc(sources);

            player.on('resolutionchange', function() {
                console.info('Source changed to %s', player.currentResolution())
            })

        });
    </script>
</body>

</html>